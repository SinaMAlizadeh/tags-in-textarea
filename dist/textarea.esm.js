import e,{useRef as t,useEffect as n}from"react";function r(t){var n=t.tag,r=t.addToDiv;return e.createElement("button",{type:"button",className:"tags-button",onClick:function(){return r(n)}},n.label)}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".chatBox{border:1px solid gray;height:300px;line-height:30px;padding:3px}.tags-list-button{display:flex;gap:10px;margin:10px 0}.tags-button{padding:.375rem .75rem}.tag,.tags-button{background-color:transparent;background-color:#0b5ed7;border:1px solid #0a58ca;border-radius:.25rem;color:#212529;color:#fff;cursor:pointer;display:inline-block;font-size:1rem;font-weight:400;line-height:1.5;text-align:center;text-decoration:none;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.tag{border-radius:.2rem;font-size:.875rem;padding:.25rem .5rem}.tag button{background-color:transparent;border:0;color:#fff;cursor:pointer}");var a=function(e,t){var n=e||"",r=document.createElement("div");return r.innerHTML=n,t.forEach((function(e){Array.from(r.getElementsByClassName("inserted-tag")).forEach((function(t){var n,r,a=t.querySelector("span");if(a&&(null===(n=a.textContent)||void 0===n?void 0:n.replace("x",""))===e.label){var o=document.createTextNode(e.value);null===(r=t.parentNode)||void 0===r||r.replaceChild(o,t)}}))})),r.innerHTML.replace(/<\/?[^>]+(>|$)/g,"").replace(/&nbsp;/g," ")};function o(e){var r=e.defaultValue,o=e.tags,i=e.setValue,l=t(null),d=function(){var e;i(a((null===(e=null==l?void 0:l.current)||void 0===e?void 0:e.innerHTML)||"",o))},c=function(e){e&&e.parentNode&&(e.parentNode.removeChild(e),d())};return n((function(){var e=l.current;return e&&(e.innerHTML=r,e.addEventListener("input",d)),function(){e&&e.removeEventListener("input",d)}}),[r]),{chatBoxRef:l,addToDiv:function(e){var t=document.createElement("span");t.innerText=e.label;var n=document.createElement("button");n.innerText="x",n.onclick=function(){return c(t.parentElement)},t.appendChild(n),function(e){var t,n;null===(t=l.current)||void 0===t||t.focus();var r=window.getSelection();if(r){var a=r.getRangeAt(0);a.deleteContents();var o=document.createElement("span");o.className="tag",o.appendChild(e),o.setAttribute("contenteditable","false"),o.classList.add("inserted-tag"),a.insertNode(o),a.collapse(!1),r.removeAllRanges(),r.addRange(a)}null===(n=l.current)||void 0===n||n.focus()}(t),d()}}}function i(t){var n=t.dir,a=void 0===n?"ltr":n,i=t.tags,l=t.defaultValue,d=o({defaultValue:void 0===l?"":l,tags:i,setValue:t.setValue}),c=d.addToDiv,u=d.chatBoxRef;return e.createElement(e.Fragment,null,e.createElement("div",{className:"textarea-content",dir:a},e.createElement("div",{className:"tags-list-button"},i.map((function(t,n){return e.createElement(r,{addToDiv:c,tag:t,key:n})}))),e.createElement("div",{id:"chatBox",ref:u,contentEditable:!0,className:"chatBox"})))}export{i as Textarea};
//# sourceMappingURL=textarea.esm.js.map
