"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(e);function t(e){var n=e.tag,t=e.addToDiv;return r.default.createElement("button",{type:"button",className:"tags-button",onClick:function(){return t(n)}},n.label)}!function(e,n){void 0===n&&(n={});var r=n.insertAt;if(e&&"undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===r&&t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".chatBox {\r\n  border: 1px solid gray;\r\n  padding: 3px;\r\n  height: 300px;\r\n  line-height: 30px;\r\n}\r\n.tags-list-button {\r\n  margin: 10px 0;\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.tags-button {\r\n  display: inline-block;\r\n  font-weight: 400;\r\n  line-height: 1.5;\r\n  color: #212529;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  vertical-align: middle;\r\n  cursor: pointer;\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n  user-select: none;\r\n  background-color: transparent;\r\n  border: 1px solid transparent;\r\n  padding: 0.375rem 0.75rem;\r\n  font-size: 1rem;\r\n  border-radius: 0.25rem;\r\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\r\n    border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\r\n  color: #fff;\r\n  background-color: #0b5ed7;\r\n  border-color: #0a58ca;\r\n}\r\n\r\n.tag {\r\n  display: inline-block;\r\n  font-weight: 400;\r\n  line-height: 1.5;\r\n  color: #212529;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  vertical-align: middle;\r\n  cursor: pointer;\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n  user-select: none;\r\n  background-color: transparent;\r\n  border: 1px solid transparent;\r\n  padding: 0.375rem 0.75rem;\r\n  font-size: 1rem;\r\n  border-radius: 0.25rem;\r\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\r\n    border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\r\n  color: #fff;\r\n  background-color: #0b5ed7;\r\n  border-color: #0a58ca;\r\n  padding: 0.25rem 0.5rem;\r\n  font-size: 0.875rem;\r\n  border-radius: 0.2rem;\r\n}\r\n\r\n.tag button {\r\n  background-color: transparent;\r\n  border: 0;\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n");var o=function(e,n){var r=e||"",t=document.createElement("div");return t.innerHTML=r,n.forEach((function(e){Array.from(t.getElementsByClassName("inserted-tag")).forEach((function(n){var r,t,o=n.querySelector("span");if(o&&(null===(r=o.textContent)||void 0===r?void 0:r.replace("x",""))===e.label){var a=document.createTextNode(e.value);null===(t=n.parentNode)||void 0===t||t.replaceChild(a,n)}}))})),t.innerHTML.replace(/<\/?[^>]+(>|$)/g,"").replace(/&nbsp;/g," ")};function a(n){var r=n.defaultValue,t=n.tags,a=n.setValue,i=e.useRef(null),l=function(){var e;a(o((null===(e=null==i?void 0:i.current)||void 0===e?void 0:e.innerHTML)||"",t))},d=function(e){e&&e.parentNode&&(e.parentNode.removeChild(e),l())};return e.useEffect((function(){var e=i.current;return e&&(e.innerHTML=r,e.addEventListener("input",l)),function(){e&&e.removeEventListener("input",l)}}),[r]),{chatBoxRef:i,addToDiv:function(e){var n=document.createElement("span");n.innerText=e.label;var r=document.createElement("button");r.innerText="x",r.onclick=function(){return d(n.parentElement)},n.appendChild(r),function(e){var n,r;null===(n=i.current)||void 0===n||n.focus();var t=window.getSelection();if(t){var o=t.getRangeAt(0);o.deleteContents();var a=document.createElement("span");a.className="tag",a.appendChild(e),a.setAttribute("contenteditable","false"),a.classList.add("inserted-tag"),o.insertNode(a),o.collapse(!1),t.removeAllRanges(),t.addRange(o)}null===(r=i.current)||void 0===r||r.focus()}(n),l()}}}exports.Textarea=function(e){var n=e.dir,o=void 0===n?"ltr":n,i=e.tags,l=e.defaultValue,d=a({defaultValue:void 0===l?"":l,tags:i,setValue:e.setValue}),c=d.addToDiv,s=d.chatBoxRef;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"textarea-content",dir:o},r.default.createElement("div",{className:"tags-list-button"},i.map((function(e,n){return r.default.createElement(t,{addToDiv:c,tag:e,key:n})}))),r.default.createElement("div",{id:"chatBox",ref:s,contentEditable:!0,className:"chatBox"})))};
//# sourceMappingURL=textarea.cjs.js.map
